<apex:page docType="html-5.0" controller="CS_MOHCDHousingAppCC" showHeader="false" showChat="false" sidebar="false" standardStylesheets="false" action="{!createHousingApp}">
    
    <!-- Required as date picker Id need to be resolved using $ -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    
    <!-- Load jQuery UI Main JS  -->
    <script type="text/javascript"> 
    function populateAssetTypes(assetType) {
            
            var select = document.getElementById('j_id0:j_id2:housingappfrm:assetType');            
            var teamArray;
            var arLen;
            select.options.length = 0;
            
            if(assetType == 'Assets') {
                teamArray = ["--None--", "Checking", "Savings", "CD", "Stocks", "Bonds", "Mutual Fund", "Trust Fund", "Annuity", "Profit-Sharing Plan", 
                            "Defined Benefit Plan", "Money Purchase Plan", "ESOP", "Governmental Plan", "409A Nonqualified Deferred Comp",
                             "Inheritance", "Cash", "Settlement", "Pension", "IRA", "Roth IRA", "401k", "403b", "SIMPLE IRA", "SEP", "SARSEP", 
                             "Payroll Deduction IRA", "457 Plan", "529 Plan", "Other"];
            }
            
            if(assetType == 'Cash') {
                teamArray = ["Cash"];
            }
            
            if(assetType == 'Gifts') {
                teamArray = ["--None--", "Checking", "Savings", "CD", "Stocks", "Bonds", "Mutual Fund", "Trust Fund", "Annuity", "Profit-Sharing Plan",
                            "Defined Benefit Plan", "Money Purchase Plan", "ESOP", "Governmental Plan", "409A Nonqualified Deferred Comp",
                            "Gift", "Inheritance", "Cash", "Settlement"];            
            }
            
            if(assetType == 'Business Ownership') {
                teamArray = ["Business Ownership"];
            }
            
            if(assetType == 'Land Ownership') {
                teamArray = ["Land Ownership"];
            }

            if(assetType == 'No Assets') {
                teamArray = ["No Assets"];
            }
            
            arLen = teamArray.length;
            for(var i=1; i<=arLen; i++) {
                select.options[i] = new Option(teamArray[i-1], teamArray[i-1]);
            } 
    
            if(assetType == 'Cash') {
                document.getElementById('j_id0:j_id2:housingappfrm:assetType').value = 'Cash';
            }
            
            if(assetType == 'Business Ownership') {
                document.getElementById('j_id0:j_id2:housingappfrm:assetType').value = 'Business Ownership';
            }
            
            if(assetType == 'Land Ownership') {
                document.getElementById('j_id0:j_id2:housingappfrm:assetType').value = 'Land Ownership';
            }
            
            if(assetType == 'No Assets') {
                document.getElementById('j_id0:j_id2:housingappfrm:assetType').value = 'No Assets';
            }
        }
        
        function ShowAssetFields(ele) {
            
            var rtId = ele.value;
            console.log('==asset rtId=='+rtId);
            var assetRT = ele.options[ele.selectedIndex].innerHTML;
            console.log('==assetRT=='+assetRT);
            
            showHideAssetFields(assetRT);    
        }    
        
        function showHideAssetFields(assetRT) {
            if(assetRT == 'Assets with an Account') {
                document.getElementById('assetfieldlist1').style.display = "block";
                document.getElementById('assetfieldlist2').style.display = "none";
                document.getElementById('assetfieldlist3').style.display = "none";
                document.getElementById('assetfieldlist4').style.display = "none";
                document.getElementById('assetfieldlist5').style.display = "none";
                
                populateAssetTypes('Assets');
                
            }
            if(assetRT == 'Cash without an Account') {
                document.getElementById('assetfieldlist2').style.display = "block";
                document.getElementById('assetfieldlist1').style.display = "none";
                document.getElementById('assetfieldlist3').style.display = "none";
                document.getElementById('assetfieldlist4').style.display = "none";
                document.getElementById('assetfieldlist5').style.display = "none";
                
                populateAssetTypes('Cash');
            }
            if(assetRT == 'Gifts') {
                document.getElementById('assetfieldlist3').style.display = "block";
                document.getElementById('assetfieldlist1').style.display = "none";
                document.getElementById('assetfieldlist2').style.display = "none";
                document.getElementById('assetfieldlist4').style.display = "none";
                document.getElementById('assetfieldlist5').style.display = "none";
                
                populateAssetTypes('Gifts');
            } 
            
            if(assetRT == 'Business Ownership') {
                document.getElementById('assetfieldlist4').style.display = "block";
                document.getElementById('assetfieldlist1').style.display = "none";
                document.getElementById('assetfieldlist2').style.display = "none";
                document.getElementById('assetfieldlist3').style.display = "none";
                document.getElementById('assetfieldlist5').style.display = "none";
                
                populateAssetTypes('Business Ownership');
            } 
            
            if(assetRT == 'Land Ownership') {
                document.getElementById('assetfieldlist5').style.display = "block";
                document.getElementById('assetfieldlist1').style.display = "none";
                document.getElementById('assetfieldlist2').style.display = "none";
                document.getElementById('assetfieldlist3').style.display = "none";
                document.getElementById('assetfieldlist4').style.display = "none";
            
                populateAssetTypes('Land Ownership');
            }
            
            if(assetRT == 'No Assets') {
                document.getElementById('assetfieldlist1').style.display = "none";
                document.getElementById('assetfieldlist2').style.display = "none";
                document.getElementById('assetfieldlist3').style.display = "none";
                document.getElementById('assetfieldlist4').style.display = "none";
                document.getElementById('assetfieldlist5').style.display = "none";
                
                populateAssetTypes('No Assets');
            }
        }
        
        
        function ShowIncomeFields(ele) {
            
            var rtId = ele.value;
            console.log('==income rtId=='+rtId);
            var incomeRT = ele.options[ele.selectedIndex].innerHTML;
            console.log('==incomeRT=='+incomeRT);
            
            
            showHideIncomeFields(incomeRT);
        }
                
        function showHideIncomeFields(incomeRT) {
                
            if(incomeRT == 'Employment Income') {
                document.getElementById('incomefieldlist1').style.display = "block";
                document.getElementById('incomefieldlist2').style.display = "none";
                document.getElementById('incomefieldlist3').style.display = "none";
                document.getElementById('incomefieldlist4').style.display = "none";
            }
            if(incomeRT == 'Other Income') {
                document.getElementById('incomefieldlist1').style.display = "none";
                document.getElementById('incomefieldlist2').style.display = "block";
                document.getElementById('incomefieldlist3').style.display = "none";
                document.getElementById('incomefieldlist4').style.display = "none";
            }
            if(incomeRT == 'Self-Employment Income') {
                document.getElementById('incomefieldlist1').style.display = "none";
                document.getElementById('incomefieldlist2').style.display = "none";
                document.getElementById('incomefieldlist3').style.display = "block";
                document.getElementById('incomefieldlist4').style.display = "none";
            }
            if(incomeRT == 'Unemployed') {
                document.getElementById('incomefieldlist1').style.display = "none";
                document.getElementById('incomefieldlist2').style.display = "none";
                document.getElementById('incomefieldlist3').style.display = "none";
                document.getElementById('incomefieldlist4').style.display = "block";
            }
        }
    </script>
    
    <style>
        .tabSize {
            height: 500px;
        }
        .tab-pane {
            background-color: #fff;
            height: 580px;
            
        }
        input[type=checkbox] {
            margin: 4px 0 0;
            margin-top: 1px \9;
            line-height: normal;
            height: 15px;
            width: 15px;
        }
        .scrollDiv {
            overflow:scroll;
            height:200px;
            overflow-x: hidden;
        }
        .confirmMsg{
            border-radius : 4px;
            background-color: #ffc;
            margin: 4px 20px;
            color: #390;
        }
        .confirmMsg div{
            padding: 6px 8px 6px 6px;
            font-weight:bolder;
        }
        .outerGrayedPanel {
           background-color: rgba(220, 214, 214, 0.6); 
            height: 100%;
            width: 100%; 
            z-index: 9999;
            position: absolute;
        }
        .innerProcessPanel {
            background-color: #000 !important;
           left: 25%;
           top: 30%;
           height: 50px;
           color: #fff;
           width: 25% !important;
           text-align: center;
           position: absolute;
           z-index: 9999;
        }
      </style>
    <apex:composition template="mohcdTemplate">        
        <apex:define name="mohbody">
            
            <apex:form id="housingappfrm">
                <apex:actionFunction action="{!clearIncomeErrorsCtrl}" name="clearIncomeErrorsCtrl" rerender="opAddIncomeDetail" status="loadingId"/>    
                <apex:actionFunction action="{!clearMemberErrorsCtrl}" name="clearMemberErrorsCtrl" rerender="opAddMemberDetail" status="loadingId"/>    
                <apex:actionFunction action="{!clearAssetErrorsCtrl}" name="clearAssetErrorsCtrl" rerender="opAddAssetDetail" status="loadingId"/>    

                <apex:actionFunction action="{!editMemberCtrl}" name="editMemberCtrl" rerender="opEditMemberDetail" status="loadingId">
                   <apex:param name="editmemberId" value="" assignTo="{!strEditMemberId}"/>
                </apex:actionFunction>    
                
                <apex:actionFunction action="{!editIncomeCtrl}" name="editIncomeCtrl" rerender="opEditIncomeDetail" status="loadingId">
                   <apex:param name="editIncomeId" value="" assignTo="{!strEditIncomeId}"/>
                </apex:actionFunction>    
                    
                <apex:actionFunction action="{!editAssetCtrl}" name="editAssetCtrl" rerender="opEditAssetDetail" status="loadingId">    
                   <apex:param name="editAssetId" value="" assignTo="{!strEditAssetId}"/>
                </apex:actionFunction>    

                <apex:actionFunction action="{!deleteMember}" name="DeleteMember" reRender="housingappfrm" >
                   <apex:param name="memberId" value="" assignTo="{!strMemberId}"/>
                </apex:actionFunction>
                
                <apex:actionFunction action="{!deleteIncome}" name="DeleteIncome" reRender="housingappfrm" >
                   <apex:param name="incomeId" value="" assignTo="{!strIncomeId}"/>
                </apex:actionFunction>
                
                <apex:actionFunction action="{!deleteAsset}" name="DeleteAsset" reRender="housingappfrm" >
                   <apex:param name="assetId" value="" assignTo="{!strAssetId}"/>
                </apex:actionFunction>
                
                <apex:actionFunction action="{!submitApplication}" name="submitApp" reRender="housingappfrm" >                   
                </apex:actionFunction>                
                
                <apex:actionFunction action="{!deleteAttachment}" name="DeleteAttachment" reRender="housingappfrm" >
                   <apex:param name="deleteattachmentId" value="" assignTo="{!strDeleteAttachmentId}"/>
                </apex:actionFunction>

                <div class="col-md-9">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">Inclusionary/Affordable Housing Application</h3>                            
                        </div>
                        <div class="panel-body">                           
                            <p>                        
                                <b> Directions : </b>
                                <apex:outputText value="{!strInstructionText}" escape="false"></apex:outputText> 
                            </p>
                        </div>  
                    </div>
                    <div class="row" style="{!IF(OR(ErrorsPresent, SuccessPresent), '', 'display : none;')}">
                        <div class="col-md-12">
                            <div class="panel panel-primary">
                                <div class="panel-body">
                                    <apex:pageMessages ></apex:pageMessages>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12" id="tabbable">
                            <div id="content" class="tabSize">
                                <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
                                    <li class="{!IF(intSelectedTabNumber = 1, 'active', '')}"><a href="/housingprograms/mohcdHousingApp?pid={!propInstance.Id}&t=1">1. Property Information</a></li>
                                    <li class="{!IF(intSelectedTabNumber = 2, 'active', '')}"><a href="/housingprograms/mohcdHousingApp?pid={!propInstance.Id}&t=2">2. Household</a></li>
                                    <li class="{!IF(intSelectedTabNumber = 3, 'active', '')}"><a href="/housingprograms/mohcdHousingApp?pid={!propInstance.Id}&t=3">3. Incomes</a></li>
                                    <li class="{!IF(intSelectedTabNumber = 4, 'active', '')}"><a href="/housingprograms/mohcdHousingApp?pid={!propInstance.Id}&t=4">4. Assets</a></li>
                                    <li class="{!IF(intSelectedTabNumber = 5, 'active', '')}"><a href="/housingprograms/mohcdHousingApp?pid={!propInstance.Id}&t=5">5. Attachments</a></li>
                                    <li class="{!IF(intSelectedTabNumber = 6, 'active', '')}"><a href="/housingprograms/mohcdHousingApp?pid={!propInstance.Id}&t=6">6. Review &#47; Submit</a></li>
                                    
                                </ul>
                                
                                <div id="my-tab-content" class="tab-content">                                    
                                    <div class="tab-pane {!IF(intSelectedTabNumber = 1, 'active', '')}" id="propInfo">
                                        <!--<div class="tab-content">-->
                                        <c:mohTabHeader propName="{!propInstance.Name}"  appStatus="{!haInstance.Application_Status__c}" />
                                            
                                        <b>Below is some information about the property you are applying for housing. Your lottery information will be available shortly after the drawing takes place.</b><br/><br/>
                                        
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-3">
                                                <b>Development Name:</b>
                                            </div> 
                                            <div class="col-md-3">
                                                {!propInstance.Parent_Development_Name__c}                                                    
                                            </div>
                                            <div class="col-md-3">
                                                <b>Application Status:</b>
                                            </div> 
                                            <div class="col-md-3">
                                                <b style="color:green;">{!haInstance.Application_Status__c}</b>
                                            </div> 
                                        </div>
                                        
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-3">
                                                <b>Contact Name:</b>
                                            </div>
                                            <div class="col-md-3">
                                                {!propInstance.Contact_Person_Name__c}
                                            </div>
                                            <div class="col-md-3">
                                                <b>Your Lottery Number:</b>
                                            </div> 
                                            <div class="col-md-3">
                                                {!haInstance.Lottery_Number__c}
                                            </div> 
                                        </div>                                                                                 
                                         
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-3">
                                                <b>Phone Number:</b>
                                            </div>
                                            <div class="col-md-3">
                                                {!propInstance.Contact_Phone__c}
                                            </div>
                                            <div class="col-md-3">
                                                <b>Your Lottery Rank:</b>
                                            </div> 
                                            <div class="col-md-3">
                                                {!haInstance.Lottery_Rank__c}
                                            </div>
                                        </div>
                                        
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-3">
                                                <b>Email:</b>
                                            </div>
                                            <div class="col-md-3">
                                                {!propInstance.Contact_Email__c}                                            
                                            </div>
                                            <div class="col-md-3">
                                                
                                            </div>
                                            <div class="col-md-3">
                                                
                                            </div>
                                        </div>
                                        
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-3">
                                                <b>Property Address:</b>
                                            </div>
                                            <div class="col-md-3">
                                                <apex:outputText escape="false" value="{!propInstance.Property_Address_Marketing__c}"></apex:outputText> 
                                            </div>
                                            <div class="col-md-3">
                                                <b>Total # of Units in Building:</b>
                                            </div>
                                            <div class="col-md-3">
                                                <apex:outputText value="{!propInstance.Total_of_Units_in_Building__c}"></apex:outputText> 
                                            </div>
                                        </div>
                                                                               
                                        <br/>

                                        <br />
                                        <!--
                                        <div class="row" style="padding-bottom: 5px;">  
                                            <div class="col-md-12">
                                                <apex:commandbutton styleClass="btn btn-primary" action="{!updateHousingApp}" value="Save" />
                                            </div>
                                        </div>
                                        -->
                                        <!--</div> tab content-->
                                    </div><!--End Property Information -->
                                    
                                    <div class="tab-pane {!IF(intSelectedTabNumber = 2, 'active', '')}" id="householdComposition">
                                        
                                        <c:mohTabHeader propName="{!propInstance.Name}"  appStatus="{!haInstance.Application_Status__c}" />
                                        
                                        <p>&nbsp;<b>Information on all household member(s) who will live in the unit, including yourself.</b></p>
                                                                      
                                        <div class="row"> 
                                            <div class="col-md-12" style="overflow: auto;height:330px;width: 99% !important;"> 
                                                <input type="hidden" id="editMemberModalId"/>
                                                <input type="hidden" value="{!strEditMemberId}" id="editedMemberId"/>
                                                <apex:variable var="count" value="{!1}"/>
                                                <apex:dataTable var="m" value="{!haInstance.Housing_Application_Members1__r}" style="overflow-x:hidden" styleClass="table table-striped">
                                                    <apex:column width="5%" rendered="{!IF(haInstance.Application_Status__c == 'Submitted',false,true)}" headerValue="Edit">
                                                        <input type="hidden" id="editmemberId" value="{!m.Id}"/>
                                                        <a href="#" data-toggle="modal" data-target="#EditMemberModal" onclick="editMemberCtrl('{!m.Id}');">Edit</a>
                                                    </apex:column>
                                                    <apex:column width="5%" rendered="{!IF(haInstance.Application_Status__c == 'Submitted',false,true)}" headerValue="Delete">
                                                        <a href="javascript:if(window.confirm('Are you sure you want to delete this record? Once deleted, it cannot be retrieved.')) DeleteMember('{!m.Id}');" >Delete</a>
                                                    </apex:column>
                                                    <apex:column width="25%" headerValue="Last Name" value="{!m.Last_Name__c}"/>
                                                    <apex:column width="25%" headerValue="First Name" value="{!m.First_Name__c}"/>
                                                    <apex:column width="10%" headerValue="Relationship to Head of Household" value="{!m.Relationship_to_Head_of_Household__c}"/>
                                                    <apex:column width="10%" headerValue="Birth Date">
                                                        <apex:outputText value="{0,date,MM'/'dd'/'yyyy}"> 
                                                            <apex:param value="{!m.Date_of_Birth__c}" /> 
                                                        </apex:outputText>
                                                    </apex:column>
                                                    <apex:column width="10%" headerValue="Occupation" value="{!m.Occupation__c}"/>
                                                    <apex:column width="5%" headerValue="Student?" value="{!m.In_School__c}"/>
                                                    <apex:column width="5%" headerValue="Married or Domestic Partnered?" value="{!m.Married_or_Domestic_Partnered__c}"/>
                                                    <apex:variable var="count" value="{!count + 1}"/>
                                                </apex:dataTable>                                                
                                                
                                                <button style="{!IF(haInstance.Application_Status__c == 'Submitted', 'display: none;', '' )}" type="button" class="customBtn2"  data-toggle="modal" data-target="#AddMemberModal" onClick="clearMemberErrorsCtrl();">Add Member</button>
                                                
                                               <!-- <apex:commandButton styleClass="customBtn2" value="Add Member" action="{!refreshMember}" style="{!IF(haInstance.Application_Status__c == 'Submitted', 'display: none;', '' )}" reRender="AddMemberModal"/> -->                                               
                                                <!-- Add Member Modal -->
                                                <div class="modal fade" id="AddMemberModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                                <h4 class="modal-title" id="myModalLabel">Household Member Information</h4>
                                                                
                                                            </div>
                                                            <apex:outputPanel id="opAddMemberDetail">
                                                            <div class="modal-body">
                                                                <apex:pageMessage severity="error" summary="{!ErrorMessagesMember}" rendered="{!IF(ErrorMessagesMember != null, true, false)}" escape="false"></apex:pageMessage>                                                  
                                                                <div class="form-group">
                                                                    <label for="FirstName">First Name</label>
                                                                    <apex:inputField styleclass="form-control" id="FirstName" value="{!memberInstance.First_Name__c}"/>
                                                                    
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="LastName">Last Name</label>
                                                                    <apex:inputField styleclass="form-control" id="LastName" value="{!memberInstance.Last_Name__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="Gender">Gender</label>
                                                                    <apex:inputField styleclass="form-control" id="Gender" value="{!memberInstance.Gender__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="Occupation">Occupation</label>
                                                                    <apex:inputField styleclass="form-control" id="Occupation" value="{!memberInstance.Occupation__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="DoB">Date of Birth (mm/dd/yyyy)</label>
                                                                    
                                                                    <div class="row">                                                                        
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' data-date-format="mm/dd/yyyy" id="memberdatetimepicker1">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!memberInstance.Date_of_Birth__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#memberdatetimepicker1').datepicker({ 
                                                                                            format: 'mm/dd/yyyy',
                                                                                            changeMonth: true,
                                                                                            changeYear: true        
                                                                                        });   
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>                                                                
                                                                </div>
                                                                
                                                               <div class="form-group">
                                                                    <label for="appRole">Applicant Role</label>
                                                                    <apex:inputField styleclass="form-control" id="appRole" value="{!memberInstance.Applicant_Role__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="relationhh">Relationship to Head of Household</label>
                                                                    <apex:inputField styleclass="form-control" id="relationhh" value="{!memberInstance.Relationship_to_Head_of_Household__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="addIsStudent">Is this member a student?</label>
                                                                    <apex:pageBlock id="addingIsStudent">
                                                                        <apex:pageBlockSection >
                                                                            <apex:actionRegion >
                                                                                <apex:inputField styleclass="form-control" id="addIsStudent" value="{!memberInstance.In_School__c}">
                                                                                    <apex:actionSupport event="onchange" rerender="addingIsStudent" />
                                                                                </apex:inputField>
                                                                            </apex:actionRegion>
                                                                        </apex:pageBlockSection>
                                                                        <br />
                                                                        <apex:pageBlockSection id="ifAddIsStudent" rendered="{!IF(memberInstance.In_School__c='Yes',true,false)}">
                                                                            <apex:inputField styleClass="form-control" id="addIsFulltime" value="{!memberInstance.Full_Time_Student__c}" label="Is this student a full-time student?&nbsp;" />
                                                                        </apex:pageBlockSection>
                                                                    </apex:pageBlock>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="isMarried">Married or Domestic Partnered?</label>
                                                                    <apex:inputField styleclass="form-control" id="isMarried" value="{!memberInstance.Married_or_Domestic_Partnered__c}"/>
                                                                </div> 
                                                                
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-12">
                                                                        <label>Does this member live or work in San Francisco?</label>
                                                                        <apex:inputField styleclass="form-control" value="{!memberInstance.Live_Or_Work_in_San_Francisco__c}"></apex:inputField>
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-12">
                                                                        <apex:inputField value="{!memberInstance.Certificate_of_Preference_Holder__c}"></apex:inputField>
                                                                        <label for="isMarried">Check here if this member is a Certificate of Preference Holder. </label>                                                                        
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-3">
                                                                        If yes, Certificate #
                                                                    </div>
                                                                    <div class="col-md-9">
                                                                        <apex:inputField styleclass="form-control" value="{!memberInstance.Certificate_of_Preference__c}"></apex:inputField>
                                                                    </div>                                            
                                                                </div>
                                                                <br/>
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-12">
                                                                        <apex:inputField value="{!memberInstance.EAHP_Certificate_Holder__c}" />
                                                                        <label>Check here if this member is an Ellis Act Housing Preference Certificate Holder. </label>                                                                       
                                                                    </div>                                            
                                                                </div>
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-6" >
                                                                        
                                                                        If yes, EAHP Certificate Expiration Date ({!IF(propInstance.New_or_Existing__c == 'New', 'New Dev.', 'Existing Dev.')}) &nbsp;&nbsp;
                                                                    </div>
                                                                    <div class="col-md-6">                                                
                                                                        <div >
                                                                            <div class='input-group date' id='memberExpiratioDate' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberInstance.EAHP_Cert_Exp_Date_New_Dev__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#memberExpiratioDate').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                    
                                                                </div>
                                                                  
                                                                <div class="form-group">
                                                                    <label for="housingunit3years">Has this member owned a housing unit in the past 3 years?</label>
                                                                    <apex:inputField styleclass="form-control" id="housingunit3years" value="{!memberInstance.Has_owned_a_unit_last_3_yrs__c}"/>
                                                                </div> 
                                                                
                                                                <div class="form-group">
                                                                    <label for="membertitle">Does this member appear on title for a housing unit (whether living in it or renting it out)?</label>
                                                                    <apex:inputField styleclass="form-control" id="membertitle" value="{!memberInstance.Does_this_appear_on_another_title__c}"/>
                                                                </div> 
                                                                <!--
                                                                <div class="form-group">
                                                                    <label for="memberland">Does this member own land?</label>
                                                                    <apex:inputField styleclass="form-control" id="memberland" value="{!memberInstance.Does_this_member_own_land__c}"/>
                                                                </div>                                                                 
                                                                -->
                                                            </div>
                                                            </apex:outputPanel>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                                                <apex:commandbutton styleClass="btn btn-primary" action="{!addMember}" value="Save Member Info" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>  <!-- end Add Member Modal -->
                                                <!-- Start Edit Member Modal -->  
                                                
                                                    <div class="modal fade" id="EditMemberModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                    
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                                <h4 class="modal-title" id="myModalLabel">Household Member Information</h4>
                                                            </div>
                                                                                                                        
                                                            <apex:outputPanel id="opEditMemberDetail">
                                                            <div class="modal-body">
                                                            <apex:param id="recordId" value="editMemberInstance.Id"/>
                                                                <apex:pageMessage severity="error" summary="{!ErrorMessagesEditMember}" rendered="{!IF(ErrorMessagesEditMember != null, true, false)}" escape="false"></apex:pageMessage>                                                  
                                                                <div class="form-group">
                                                                    <label for="EditFirstName">First Name</label>
                                                                    <apex:inputField styleclass="form-control" id="EditFirstName" value="{!editMemberInstance.First_Name__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditLastName">Last Name</label>
                                                                    <apex:inputField styleclass="form-control" id="EditLastName" value="{!editMemberInstance.Last_Name__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditGender">Gender</label>
                                                                    <apex:inputField styleclass="form-control" id="EditGender" value="{!editMemberInstance.Gender__c}"/>
                                                                </div>                                                        
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditOccupation">Occupation</label>
                                                                    <apex:inputField styleclass="form-control" id="EditOccupation" value="{!editMemberInstance.Occupation__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditDoB">Date of Birth (mm/dd/yyyy)</label>
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='EditDoB_{!editMemberInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberInstance.Date_of_Birth__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#EditDoB_{!editMemberInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>          
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditAppRole">Applicant Role</label>
                                                                    <apex:inputField styleclass="form-control" id="EditAppRole" value="{!editMemberInstance.Applicant_Role__c}"/>
                                                                </div> 
                                                                
                                                                <div class="form-group">
                                                                    <label for="Editrelation">Relationship with Head of Household</label>
                                                                    <apex:inputField styleclass="form-control" id="Editrelation" value="{!editMemberInstance.Relationship_to_Head_of_Household__c}"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditisStudent">Is this member a student?</label>
                                                                    <apex:pageBlock id="isStudent">
                                                                        <apex:pageBlockSection >
                                                                            <apex:actionRegion >
                                                                                <apex:inputField styleclass="form-control" id="EditisStudent" value="{!editMemberInstance.In_School__c}">
                                                                                    <apex:actionSupport event="onchange" rerender="isStudent" />
                                                                                </apex:inputField>
                                                                            </apex:actionRegion>
                                                                        </apex:pageBlockSection>
                                                                        <br />
                                                                        <apex:pageBlockSection id="ifIsStudent" rendered="{!IF(editMemberInstance.In_School__c='Yes',true,false)}">
                                                                            <apex:inputField styleClass="form-control" id="EditisFulltime" value="{!editMemberInstance.Full_Time_Student__c}" label="Is this student a full-time student?&nbsp;" />
                                                                        </apex:pageBlockSection>
                                                                    </apex:pageBlock>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="EditisMarried">Married?</label>
                                                                    <apex:inputField styleclass="form-control" id="EditisMarried" value="{!editMemberInstance.Married_or_Domestic_Partnered__c}"/>
                                                                </div>
                                                                
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-12">
                                                                        <label>Does this member live or work in San Francisco? </label>
                                                                        <apex:inputField styleclass="form-control" value="{!editMemberInstance.Live_Or_Work_in_San_Francisco__c}"></apex:inputField>
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-12">
                                                                        <apex:inputField value="{!editMemberInstance.Certificate_of_Preference_Holder__c}"></apex:inputField>
                                                                        <label for="isMarried">Are you a Certificate of Preference Holder. </label>                                                                        
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-3">
                                                                        If yes, Certificate #
                                                                    </div>
                                                                    <div class="col-md-9">
                                                                        <apex:inputField styleclass="form-control" value="{!editMemberInstance.Certificate_of_Preference__c}"></apex:inputField>
                                                                    </div>                                            
                                                                </div>
                                                                <br/>
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-12">
                                                                        <apex:inputField value="{!editMemberInstance.EAHP_Certificate_Holder__c}" />
                                                                        <label>Check here if this member is an Ellis Act Housing Preference Certificate Holder. </label>                                                                       
                                                                    </div>                                            
                                                                </div>
                                                                <div class="row" style="padding-bottom: 5px;">                                            
                                                                    <div class="col-md-6" >
                                                                        If yes, EAHP Certificate Expiration Date (New Developments) &nbsp;&nbsp;
                                                                    </div>
                                                                    <div class="col-md-6">                                                
                                                                        <div >
                                                                            <div class='input-group date' id='editmemberExpiratioDate' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!editMemberInstance.EAHP_Cert_Exp_Date_New_Dev__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#editmemberExpiratioDate').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                    
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="edithousingunit3years">Has this member owned a housing unit in the past 3 years?</label>
                                                                    <apex:inputField styleclass="form-control" id="edithousingunit3years" value="{!editMemberInstance.Has_owned_a_unit_last_3_yrs__c}"/>
                                                                </div> 
                                                                
                                                                <div class="form-group">
                                                                    <label for="editmembertitle">Does this member appear on title for a housing unit (whether living in it or renting it out)?</label>
                                                                    <apex:inputField styleclass="form-control" id="editmembertitle" value="{!editMemberInstance.Does_this_appear_on_another_title__c}"/>
                                                                </div> 
                                                                
                                                            </div>
                                                            </apex:outputPanel>
                                                            <div class="modal-footer">
                                                                <!-- button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button -->
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>                                                                
                                                                <apex:commandLink styleClass="btn btn-primary" action="{!updateMember}" value="Save Member Info">
                                                                    <apex:param name="editmemberId" value="{!editMemberInstance.Id}" assignTo="{!strEditMemberId}" />
                                                                </apex:commandLink>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>  <!-- end  Edit Member Modal -->
                                                
                                            </div>
                                        </div>
                                    </div> <!-- end householdComposition -->
                                    
                                    <div class="tab-pane {!IF(intSelectedTabNumber = 3, 'active', '')}" id="incomeInfo">
                                        
                                        <c:mohTabHeader propName="{!propInstance.Name}"  appStatus="{!haInstance.Application_Status__c}" />
                                        
                                        <p>&nbsp;<b>Income records of household member(s) who will live in the unit.</b></p>
                                        
                                        <div class="row"> 
                                            <div class="col-md-12" style="overflow: auto;height:330px;width: 99% !important;">        
                                                <apex:variable var="count" value="{!1}"/>
                                                <apex:dataTable value="{!haInstance.Housing_Application_Incomes__r}" var="i" styleClass="table table-striped" style="overflow-x:hidden">
                                                    <apex:column headerValue="Edit" width="5%" rendered="{!IF(haInstance.Application_Status__c == 'Submitted',false,true)}">
                                                        <input type="hidden" id="editIncomeId" value="{!i.Id}"/>
                                                        <a href="#" data-toggle="modal" data-target="#EditIncomeModal" onclick="editIncomeCtrl('{!i.Id}');">Edit</a>
                                                    </apex:column>
                                                    <apex:column headerValue="Delete" width="5%" rendered="{!IF(haInstance.Application_Status__c == 'Submitted',false,true)}">
                                                        <a href="javascript:if(window.confirm('Are you sure you want to delete this record? Once deleted, it cannot be retrieved.')) DeleteIncome('{!i.Id}');" >Delete</a>
                                                    </apex:column>
                                                    <apex:column width="20%" headerValue="Last Name" value="{!i.Housing_Application_Member__r.Last_Name__c}"/>
                                                    <apex:column width="20%" headerValue="First Name" value="{!i.Housing_Application_Member__r.First_Name__c}"/>
                                                    <apex:column width="20%" headerValue="Income Type" value="{!i.RecordType.Name}"/>
                                                    <apex:column width="20%" headerValue="Employer Name" value="{!i.Employer_Name__c}"/>
                                                    <apex:column width="10%" headerValue="Annual Estimated Income" value="{!i.Annual_Income_Amount__c}"/>
                                                    <apex:variable var="count" value="{!count + 1}"/>
                                                </apex:dataTable>                                     
                                            </div>
                                        </div>  
                                        
                                        <button style="{!IF(haInstance.Application_Status__c == 'Submitted', 'display: none;', '' )}" type="button" class="customBtn2" data-toggle="modal" data-target="#AddIncomeModal" onClick="clearIncomeErrorsCtrl();">Add Income</button>
                                        
                                        <!-- Add Income Modal -->
                                        <div class="modal fade" id="AddIncomeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                        <h4 class="modal-title" id="myModalLabel">Income Details</h4>
                                                    </div>
                                                    
                                                    
                                                    <div class="modal-body" >
                                                    <apex:outputPanel id="opAddIncomeDetail">
                                                        <input type="hidden" value="{!IncomeRecordTypeSelected}" id="incomeRecordTypeId"/>
                                                        
                                                        <apex:outputPanel id="opAddIncomeErr">
                                                        <apex:pageMessage severity="error" summary="{!ErrorMessagesIncome}" rendered="{!IF(ErrorMessagesIncome != null, true, false)}" escape="false" id="ErrorMessagesIncome"></apex:pageMessage>
                                                        </apex:outputPanel>
                                                        
                                                        <div class="form-group">
                                                            <label for="Incomehhmember">Select Household Member</label>                            
                                                            <apex:selectList styleClass="form-control" id="Incomehhmember" value="{!memberIncomeInstance.Housing_Application_Member__c}" size="1" style="width:200px">
                                                                <apex:selectOptions value="{!MembersList}" />
                                                            </apex:selectList>
                                                        </div> 
                                                                                                            
                                                        <div class="form-group">
                                                            <label for="IncomeRecordType">Select Income Record Type</label>                                                            
                                                            <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.RecordTypeId}" onchange="ShowIncomeFields(this);clearIncomeErrorsCtrl2();" id="incomeRecTypeInputId"/>                                                        
                                                        </div>       
                                                        
                                                        <div id="incomefieldlist1">
                                                            
                                                            <div class="form-group">
                                                                <label for="IncomeEmployerName">Employer Name</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Employer_Name__c}" />                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Employer Address</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Employer_Address__c}" />                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Pay Period Frequency</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Pay_Period_Frequency__c}" />                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Total Number of Pay Periods Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Total_Number_of_Pay_Periods_Annually__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>                                                      
                                                            
                                                            <div class="form-group">
                                                                <label>Employment Status</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Employment_Status__c}" />                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Base Annual Employment Income</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Base_Annual_Employment_Income__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>First Date of Employment (mm/dd/yyyy)</label>
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='incomefirstdateofEmplpicker1' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberIncomeInstance.First_Date_of_Employment__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#incomefirstdateofEmplpicker1').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Annual Commissions/Bonuses/Tips</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Annual_Commissions_Bonuses_Tips__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Annual Overtime</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Annual_Overtime__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>First Most Recent Paycheck<br />Pay Period End Date (mm/dd/yyyy)</label>
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='incomePaycheck1PayDatePicker1' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberIncomeInstance.Paycheck_1_Pay_Date__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#incomePaycheck1PayDatePicker1').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label> First Most Recent Paycheck Period #</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_1_Period__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>First Most Recent Paycheck Total Gross Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_1_Total_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label> First Most Recent Paycheck Year-To-Date Gross Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_1_Year_To_Date_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            
                                                            
                                                            <div class="form-group">
                                                                <label>Second Most Recent Paycheck<br />Pay Period End Date (mm/dd/yyyy)</label>
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='incomePaycheck2PayDatePicker1' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberIncomeInstance.Paycheck_2_Pay_Date__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#incomePaycheck2PayDatePicker1').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Second Most Recent Paycheck Period #</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_2_Period__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Second Most Recent Paycheck Total Gross Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_2_Total_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Second Most Recent Paycheck Year-To-Date Gross Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_2_Year_To_Date_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            
                                                                                                                        
                                                            <div class="form-group">
                                                                <label>Third Most Recent Paycheck<br />Pay Period End Date (mm/dd/yyyy)</label>
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='incomePaycheck3PayDatePicker1' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberIncomeInstance.Paycheck_3_Pay_Date__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#incomePaycheck3PayDatePicker1').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Third Most Recent Paycheck Period #</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_3_Period__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Third Most Recent Paycheck Total Gross Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_3_Total_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Third Most Recent Paycheck Year-To-Date Gross Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Paycheck_3_Year_To_Date_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            
                                                        </div>
                                                        
                                                        <div id="incomefieldlist2" style="display: none;">
                                                            <div class="form-group">
                                                                <label>Interest/Dividends Received Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Interest_Dividends_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                                                                            
                                                            <div class="form-group">
                                                                <label>Public Assistance Received Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Public_Assistance_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Child Support/Alimony Received Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Child_Support_Alimony_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>All Income from Land and/or Business Ownership Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Income_from_Land_or_Business_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Social Security/Pensions Rec'd Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Social_Security_Pensions_Rec_d_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Other Incomes Received Annually</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Other_Incomes_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                        </div>
                                                        
                                                        <div id="incomefieldlist3" style="display: none;">
                                                            <!--div class="form-group"-->
                                                                <!--label>Applicant Self-employed?</label-->
                                                                <!--apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Applicant_Self_employed__c}" /-->                                                        
                                                            <!--/div-->
                                                            
                                                            <div class="form-group">
                                                                <label> Self-Employment Income Declaration Type</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Self_Employment_Income_Declaration_Type__c}" />                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label> How many times/year get P/L Statement? </label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.How_many_times_year_get_P_L_Statement__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>                                                                
                                                            
                                                            <div class="form-group">
                                                                <label>Date of Most Recent P &amp; L Stmt (mm/dd/yyyy)</label>
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='incomeDateMostRecentPLStmt' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberIncomeInstance.Date_of_Most_Recent_P_L_Stmt__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#incomeDateMostRecentPLStmt').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Self Employment Starting Year</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Self_Employment_Starting_Year__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Self Employment Starting Month</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Self_Employment_Starting_Month__c}" />                                                        
                                                            </div>
                                                            
                                                             <div class="form-group">
                                                                <label>Most Recent Profit or Loss Status</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Most_Recent_Profit_or_Loss_Status__c}" />                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Most Recent Profit or Loss Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Most_Recent_Profit_or_Loss_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Most Recent Tax Year 1</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Most_Recent_Tax_Year_1__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label> Tax Year 1 Taxable Annual Income</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Tax_Year_1_Taxable_Annual_Income__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Most Recent Tax Year 2</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Most_Recent_Tax_Year_2__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Tax Year 2 Taxable Annual Income</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Tax_Year_2_Taxable_Annual_Income__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                        </div>    
                                                        
                                                        <div id="incomefieldlist4" style="display: none;">
                                                            <!--div class="form-group"-->
                                                                <!--label>Applicant Unemployed?</label-->
                                                                <!--apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Applicant_Unemployed__c}" /-->
                                                            <!--/div-->
                                                            
                                                            <div class="form-group">
                                                                <label>Annual Unemployment Benefits Amount</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Annual_Unemployment_Benefits_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Year Unemployed</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Year_Unemployed__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label>Month Unemployed</label>
                                                                <apex:inputField styleClass="form-control" value="{!memberIncomeInstance.Month_Unemployed__c}" />                                                        
                                                            </div>
                                                        </div>
                                                        </apex:outputPanel>
                                                    </div>    
                                        
                                        
                                                    <div class="modal-footer">
                                                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel"/>
                                                        <apex:commandbutton styleClass="btn btn-primary" action="{!addMemberIncome}" value="Save Income Details"/>                                                        
                                                    </div>
                                                    
                                                   
                                                    <apex:actionFunction action="{!clearIncomeErrorsCtrl2}" name="clearIncomeErrorsCtrl2" rerender="opAddIncomeErr"/>
                                                </div>
                                            </div>
                                        </div>  <!-- end Add Income Modal -->     
                                        
                                            <div class="modal fade" id="EditIncomeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                            <h4 class="modal-title" id="myModalLabel">Income Details</h4>
                                                            
                                                        </div>
                                                        
                                                        <apex:outputPanel id="opEditIncomeDetail">
                                                        <div class="modal-body">
                                                            <apex:pageMessage severity="error" summary="{!ErrorMessagesEditIncome}" rendered="{!IF(ErrorMessagesEditIncome != '', true, false)}" escape="false"></apex:pageMessage>                                                   
                                                            <div class="form-group">
                                                                <label for="editIncomehhmember">Household Member : &nbsp;</label>                            
                                                                <apex:outputText value="{!editMemberIncomeInstance.Housing_Application_Member__r.First_Name__c + ' ' + editMemberIncomeInstance.Housing_Application_Member__r.Last_Name__c}"></apex:outputText>
                                                            </div> 
                                                                                                                
                                                            <div class="form-group">
                                                                <label for="IncomeRecordType">Income Record Type : &nbsp; </label>                                                            
                                                                <apex:outputText value="{!editMemberIncomeInstance.RecordType.Name}" />                                                        
                                                            </div>                                                        
                                                            
                                                            <div id="editincomefieldlist1" style="{!IF(editMemberIncomeInstance.RecordType.Name == 'Employment Income', '', 'display:none;')}">
                                                                
                                                                <div class="form-group">
                                                                    <label for="IncomeEmployerName">Employer Name</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Employer_Name__c}" />                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Employer Address</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Employer_Address__c}" />                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Pay Period Frequency</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Pay_Period_Frequency__c}" />                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Total Number of Pay Periods Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Total_Number_of_Pay_Periods_Annually__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>                                                      
                                                                
                                                                <div class="form-group">
                                                                    <label>Employment Status</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Employment_Status__c}" />                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Base Annual Employment Income</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Base_Annual_Employment_Income__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>First Date of Employment (mm/dd/yyyy)</label>                                                                    
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editincomeFirstDOE_{!editMemberIncomeInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberIncomeInstance.First_Date_of_Employment__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editincomeFirstDOE_{!editMemberIncomeInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>   
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Annual Commissions/Bonuses/Tips</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Annual_Commissions_Bonuses_Tips__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Annual Overtime</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Annual_Overtime__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>First Most Recent Paycheck<br />Pay Period End Date (mm/dd/yyyy)</label>
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editincomePaycheck1PayDate_{!editMemberIncomeInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_1_Pay_Date__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editincomePaycheck1PayDate_{!editMemberIncomeInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>   
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>First Most Recent Paycheck Period #</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_1_Period__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>First Most Recent Paycheck Total Gross Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_1_Total_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>First Most Recent Paycheck Year-To-Date Gross Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_1_Year_To_Date_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                
                                                                
                                                                <div class="form-group">
                                                                    <label>Second Most Recent Paycheck<br />Pay Period End Date (mm/dd/yyyy)</label>
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editincomePaycheck2PayDate_{!editMemberIncomeInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_2_Pay_Date__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editincomePaycheck2PayDate_{!editMemberIncomeInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label> Second Most Recent Paycheck Period #</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_2_Period__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Second Most Recent Paycheck Total Gross Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_2_Total_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label> Second Most Recent Paycheck Year-To-Date Gross Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_2_Year_To_Date_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                

                                                                <div class="form-group">
                                                                    <label>Third Most Recent Paycheck<br />Pay Period End Date (mm/dd/yyyy)</label>
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editincomePaycheck3PayDate_{!editMemberIncomeInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_3_Pay_Date__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editincomePaycheck3PayDate_{!editMemberIncomeInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label> Third Most Recent Paycheck Period #</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_3_Period__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Third Most Recent Paycheck Total Gross Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_3_Total_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Third Most Recent Paycheck Year-To-Date Gross Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Paycheck_3_Year_To_Date_Gross_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                
                                                            </div>
                                                            
                                                            <div id="editincomefieldlist2" style="{!IF(editMemberIncomeInstance.RecordType.Name == 'Other Income', '', 'display:none;')}">
                                                                <div class="form-group">
                                                                    <label>Interest/Dividends Received Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Interest_Dividends_Received_Annually__c} " onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                                                                      
                                                                <div class="form-group">
                                                                    <label>Public Assistance Received Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Public_Assistance_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Child Support/Alimony Received Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Child_Support_Alimony_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>All Income from Land and/or Business Ownership Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Income_from_Land_or_Business_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Social Security/Pensions Rec'd Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Social_Security_Pensions_Rec_d_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Other Incomes Received Annually</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Other_Incomes_Received_Annually__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                            </div>
                                                            
                                                            <div id="editincomefieldlist3" style="{!IF(editMemberIncomeInstance.RecordType.Name == 'Self-Employment Income', '', 'display:none;')}">
                                                                <!--div class="form-group"-->
                                                                    <!--label>Applicant Self-employed?</label-->
                                                                    <!--apex:inputField styleClass="form-control" value="{!i.Applicant_Self_employed__c}" /-->                                                        
                                                                <!--/div-->
                                                                
                                                                <div class="form-group">
                                                                    <label> Self-Employment Income Declaration Type</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Self_Employment_Income_Declaration_Type__c}" />                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label> How many times/year get P/L Statement? </label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.How_many_times_year_get_P_L_Statement__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>   
                                                                
                                                                <div class="form-group">
                                                                    <label>Date of Most Recent P &amp; L Stmt (mm/dd/yyyy)</label>                                                                    
                                                                    <div class="row">                                                                        
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editincomeDateMostRecentPLStmt_{!editMemberIncomeInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberIncomeInstance.Date_of_Most_Recent_P_L_Stmt__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editincomeDateMostRecentPLStmt_{!editMemberIncomeInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Self Employment Starting Year</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Self_Employment_Starting_Year__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Self Employment Starting Month</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Self_Employment_Starting_Month__c}" />                                                        
                                                                </div>
                                                                
                                                                 <div class="form-group">
                                                                    <label>Most Recent Profit or Loss Status</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Most_Recent_Profit_or_Loss_Status__c}" />                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Most Recent Profit or Loss Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Most_Recent_Profit_or_Loss_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Most Recent Tax Year 1</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Most_Recent_Tax_Year_1__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label> Tax Year 1 Taxable Annual Income</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Tax_Year_1_Taxable_Annual_Income__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Most Recent Tax Year 2</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Most_Recent_Tax_Year_2__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Tax Year 2 Taxable Annual Income</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Tax_Year_2_Taxable_Annual_Income__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                            </div>    
                                                            
                                                            <div id="incomefieldlist4" style="{!IF(editMemberIncomeInstance.RecordType.Name == 'Unemployed', '', 'display:none;')}">
                                                                <!--div class="form-group"-->
                                                                    <!--label>Applicant Unemployed?</label-->
                                                                    <!--apex:inputField styleClass="form-control" value="{!i.Applicant_Unemployed__c}" /-->                                                        
                                                                <!--/div-->
                                                                
                                                                <div class="form-group">
                                                                    <label>Annual Unemployment Benefits Amount</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Annual_Unemployment_Benefits_Amount__c}" onkeypress="return validateField(event, this, 'Currency');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Year Unemployed</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Year_Unemployed__c}" onkeypress="return validateField(event, this, 'Numbers');"/>                                                        
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Month Unemployed</label>
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberIncomeInstance.Month_Unemployed__c}" />                                                        
                                                                </div>
                                                            </div>                                                                                                                                                                  
                                                        </div>    
                                                        </apex:outputPanel>                                   
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                                                                                                       
                                                            <apex:commandLink styleClass="btn btn-primary" action="{!updateIncome}" value="Save Income Details">
                                                                <apex:param name="editincomeId" value="{!editMemberIncomeInstance.Id}" assignTo="{!strEditIncomeId}" />
                                                            </apex:commandLink>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>  <!-- end  Edit Member Income Modal -->
                                    </div>
                                    
                                    <div class="tab-pane {!IF(intSelectedTabNumber = 4, 'active', '')}" id="assetInfo">
                                        
                                        <c:mohTabHeader propName="{!propInstance.Name}"  appStatus="{!haInstance.Application_Status__c}" />
                                        
                                        <p>&nbsp;<b>Asset records of household member(s) who will live in the unit.</b></p>
                                        
                                        <div class="row"> 
                                            <div class="col-md-12" style="overflow: auto;height:330px;width: 99% !important;">
                                                    <input type="hidden" id="editAssetModalId"/>
                                                    <input type="hidden" value="{!strEditAssetId}" id="editedAssetId"/>                                                                        
                                                    <apex:variable var="count" value="{!1}"/>
                                                    <apex:dataTable var="a" value="{!haInstance.Housing_Application_Assets__r}" style="overflow-x:hidden" styleClass="table table-striped">
                                                    <apex:column width="5%" rendered="{!IF(haInstance.Application_Status__c == 'Submitted',false,true)}" headerValue="Edit">
                                                        <input type="hidden" id="editAssetId" value="{!a.Id}"/>
                                                        <a href="#" data-toggle="modal" data-target="#EditAssetModal" onclick="editAssetCtrl('{!a.Id}');">Edit</a>
                                                    </apex:column>
                                                    <apex:column width="5%" rendered="{!IF(haInstance.Application_Status__c == 'Submitted',false,true)}" headerValue="Delete">
                                                        <a href="javascript:if(window.confirm('Are you sure you want to delete this record? Once deleted, it cannot be retrieved.')) DeleteAsset('{!a.Id}');" >Delete</a>
                                                    </apex:column>
                                                    <apex:column width="10%" headerValue="Last Name" value="{!a.Housing_Application_Member__r.Last_Name__c}"/>
                                                    <apex:column width="10%" headerValue="First Name" value="{!a.Housing_Application_Member__r.First_Name__c}"/>
                                                    <apex:column width="25%" headerValue="Asset Type" value="{!a.RecordType.Name}"/>
                                                    <apex:column width="20%" headerValue="Name of Institution" value="{!a.Name_of_Institution__c}"/>
                                                    <apex:column width="5%" headerValue="Retirement Asset Type" value="{!a.Retirement_Asset_Type__c}"/>
                                                    <apex:column width="15%" headerValue="Current Cash or Market Value" value="{!a.Asset_Value__c}"/>
                                                    <apex:variable var="count" value="{!count + 1}"/>
                                                </apex:dataTable>                                                
                                            </div>
                                        </div> 
                                        
                                        <button style="{!IF(haInstance.Application_Status__c == 'Submitted', 'display: none;', '' )}" type="button" class="customBtn2" data-toggle="modal" data-target="#AddAssetModal" onClick="clearAssetErrorsCtrl();">Add Asset</button>
                                        
                                        <!-- Add Asset Modal -->
                                        <div class="modal fade" id="AddAssetModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                        <h4 class="modal-title" id="myModalLabel">Asset Details</h4>
                                                    </div>
                                                    
                                                    <apex:outputPanel id="opAddAssetDetail">
                                                    <div class="modal-body" >
                                                        <input type="hidden" value="{!AssetRecordTypeSelected}" id="assetRecordTypeId"/>
                                                        <apex:outputPanel id="opAddAssetErr">
                                                        <apex:pageMessage severity="error" summary="{!ErrorMessagesAssets}" rendered="{!IF(ErrorMessagesAssets != null, true, false)}" escape="false"></apex:pageMessage>
                                                        </apex:outputPanel>
                                                        <div class="form-group">
                                                            <label for="Assethhmember">Select Household Member</label>                            
                                                            <apex:selectList styleClass="form-control" id="Assethhmember" value="{!memberAssetInstance.Housing_Application_Member__c}" size="1" style="width:200px">
                                                                <apex:selectOptions value="{!MembersList}" />
                                                            </apex:selectList>
                                                        </div>                                                   
                                                        
                                                        <div class="form-group">
                                                            <label for="assetRecordType">Select Asset Record Type</label>                                                            
                                                            <apex:inputField styleClass="form-control" id="assetRecordType" value="{!memberAssetInstance.RecordTypeId}" onchange="ShowAssetFields(this);clearAssetErrorsCtrl2();" />
                                                        </div>

                                                        <div class="form-group">
                                                            <label for="assetType">Asset Type</label>                                                            
                                                            <apex:inputField styleClass="form-control" id="assetType" value="{!memberAssetInstance.Asset_Type__c}" />
                                                        </div>
                                                                                                                
                                                        <div id="assetfieldlist1" style="">                                                       
                                                            
                                                            <div class="form-group">
                                                                <label for="cashmarketvalue">Current Cash or Market Value</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="cashmarketvalue" value="{!memberAssetInstance.Cash_or_Market_Value__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="settlementorOtherDescription">Settlement or Other Description</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="settlementorOtherDescription" value="{!memberAssetInstance.Settlement_or_Other_Description__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="stockOrBondDescription">Stock/Bond Description</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="stockOrBondDescription" value="{!memberAssetInstance.Stock_Bond_Description__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="nameOfInstitution">Name of Institution</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="nameOfInstitution" value="{!memberAssetInstance.Name_of_Institution__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="accountNumber">Account Number</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="accountNumber" value="{!memberAssetInstance.Account_Number__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="assetdateOfMostRecentStmt">Date of Most Recent Statement (mm/dd/yyyy)</label>                                                            
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='assetdateOfMostRecentStmt' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberAssetInstance.Date_of_Most_Recent_Statement__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#assetdateOfMostRecentStmt').datepicker({                        
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-12">
                                                                        <apex:inputField id="IsjointAccount" value="{!memberAssetInstance.Is_this_a_joint_account__c}" />
                                                                        <label for="IsjointAccount">Check here if this is a joint account.</label>                                                                
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <div class="row">
                                                                    <div class="col-sm-6">
                                                                        <label for="nameOfJointAccountHolder">Name(s) of joint account holder(s)</label>                                                                
                                                                        <apex:inputField styleClass="form-control" id="nameOfJointAccountHolder" value="{!memberAssetInstance.Name_of_joint_account_holders__c}" />                                                                
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            <!--<div class="form-group">
                                                                <label for="mostRecentBalance">Most Recent Balance</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="mostRecentBalance" value="{!memberAssetInstance.Most_Recent_Balance__c}" />
                                                            </div>-->
                                                            
                                                        </div>
                                                        
                                                        <div id="assetfieldlist2" style="display: none;">
                                                            
                                                            <div class="form-group">
                                                                <label for="totalCashNotDepositedinAnyAcc">Total Cash Not Deposited in Any Account</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="totalCashNotDepositedinAnyAcc" value="{!memberAssetInstance.Total_Cash_Not_Deposited_in_Any_Account__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                                
                                                        </div>
                                                        
                                                        <div id="assetfieldlist3" style="display: none;">
                                                            
                                                            <div class="form-group">
                                                                <label for="dateOfGiftLatter">Date of Gift Letter (mm/dd/yyyy)</label>                                                            
                                                                <div class="row">                                                                        
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='assetdateOfGiftLatter' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberAssetInstance.Date_of_Gift_Letter__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#assetdateOfGiftLatter').datepicker({
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="gifterRelnToReci">Gifter/Donor Relationship to Recipient</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="gifterRelnToReci" value="{!memberAssetInstance.Gifter_Donor_Relationship_to_Recipient__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="gifterDonorName">Gifter/Donor Name</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="gifterDonorName" value="{!memberAssetInstance.Gifter_Donor_Name__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="gifterDonarAddress">Gifter/Donor Address</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="gifterDonarAddress" value="{!memberAssetInstance.Gifter_Donor_Address__c}" />
                                                            </div>
                                                            
                                                            
                                                            <div class="form-group">
                                                                <label for="RelationshipIfOther">Relationship, if Other</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="RelationshipIfOther" value="{!memberAssetInstance.Relationship_if_Other__c}" />
                                                            </div> 
                                                            
                                                            <div class="form-group">
                                                                <label for="gifterDonarPhoneNumber">Gifter/Donor Phone Number</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="gifterDonarPhoneNumber" value="{!memberAssetInstance.Gifter_Donor_Phone_Number__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftDepositoryname">Gift Funds Location-Bank/Depository Name</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftDepositoryname" value="{!memberAssetInstance.Gift_Funds_Location_Bank_Depository_Name__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftFundsLocationPhone">Gift Funds Location: Phone#</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftFundsLocationPhone" value="{!memberAssetInstance.Gift_Funds_Location_Phone__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftFundsLocationAddress">Gift Funds Location: Address</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftFundsLocationAddress" value="{!memberAssetInstance.Gift_Funds_Location_Address__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftFundsTypeOfAccount">Gift Funds Type of Account</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftFundsTypeOfAccount" value="{!memberAssetInstance.Gift_Funds_Type_of_Account__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftTypeFundOtherDescription">Gift Funds Type - Other description</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftTypeFundOtherDescription" value="{!memberAssetInstance.Gift_Funds_Type_Other_description__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="currentCashValueOfGift">Current Cash or Market Value of Gift</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="currentCashValueOfGift" value="{!memberAssetInstance.Current_Cash_Value_of_Gift__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftFundsBankAccount">Gift Funds Bank/Depository Account#</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftFundsBankAccount" value="{!memberAssetInstance.Gift_Funds_Bank_Depository_Account__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftFundsBankAccountInstiName">Gift Recipient Account Institution Name</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftFundsBankAccountInstiName" value="{!memberAssetInstance.Gift_Recipient_Account_Institution_Name__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftFundsBankAccountAddress">Gift Recipient Account Address</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftFundsBankAccountAddress" value="{!memberAssetInstance.Gift_Recipient_Account_Address__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="giftRecipientsAccNumber">Gift Recipient's Account Number</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="giftRecipientsAccNumber" value="{!memberAssetInstance.Gift_Recipient_s_Account_Number__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="grAccInstPhone">Gift Recipient Acct. Inst. Phone #</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="grAccInstPhone" value="{!memberAssetInstance.GR_Acct_Inst_Phone__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="assetgrAccInstDoLstStmt">Gift Recipient Acct. Inst. - Date of Last Statement (mm/dd/yyyy)</label>                                                                
                                                                <div class="row">
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <div class='input-group date' id='assetgrAccInstDoLstStmt' data-date-format="mm/dd/yyyy">
                                                                                <apex:inputField type="text" styleClass="form-control" value="{!memberAssetInstance.GR_Acct_Inst_Date_of_Last_Statement__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                <span class="input-group-addon">
                                                                                    <span class="glyphicon glyphicon-time"></span>
                                                                                </span>
                                                                            </div>
                                                                            <script type="text/javascript">
                                                                                $(function () {
                                                                                    $('#assetgrAccInstDoLstStmt').datepicker({
                                                                                        format: 'mm/dd/yyyy'
                                                                                    });        
                                                                                });      
                                                                            </script>
                                                                        </div>
                                                                    </div>                                                                                                                             
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="AmountOfGiftDepositedIntoRecAcc">Amount of Gift Deposited into Rec. Acct</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="AmountOfGiftDepositedIntoRecAcc" value="{!memberAssetInstance.Amount_of_Gift_Deposited_into_Rec_Acct__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="grAccMostRecentBal">Gift Recipient Acct. - Most Recent Balance</label>
                                                                <apex:inputField styleClass="form-control" id="grAccMostRecentBal" value="{!memberAssetInstance.GR_Acct_Most_Recent_Balance__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                            
                                                        </div>
                                                        
                                                        <div id="assetfieldlist4" style="display: none;">
                                                            
                                                            <div class="form-group">
                                                                <label for="nameofbusiness">Name of Business</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="nameofbusiness" value="{!memberAssetInstance.Name_of_Business__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="addressofbusiness">Address of Business</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="addressofbusiness" value="{!memberAssetInstance.Address_of_Business__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="amountfrombusiness">Amount Earned Per Year from Business</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="amountfrombusiness" value="{!memberAssetInstance.Amount_Earned_Per_Year_from_Business__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                                
                                                        </div>
                                                        
                                                        <div id="assetfieldlist5" style="display: none;">
                                                            
                                                            <div class="form-group">
                                                                <label for="landaddress">Land Address or Parcel Desc.</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="landaddress" value="{!memberAssetInstance.Land_Address_or_Parcel_Desc__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="valueofland">Current Value of Land</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="valueofland" value="{!memberAssetInstance.Current_Value_of_Land__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="earnsincomefromland">Landowner Earns Income from Land?</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="earnsincomefromland" value="{!memberAssetInstance.Landowner_Earns_Income_from_Land__c}" />
                                                            </div>
                                                            
                                                            <div class="form-group">
                                                                <label for="landincome">If yes, earned income per year:</label>                                                            
                                                                <apex:inputField styleClass="form-control" id="landincome" value="{!memberAssetInstance.Land_Earned_Income_Per_Year__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                            </div>    
                                                        </div>
                                                        
                                                    </div>    
                                                    </apex:outputPanel>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                                        <apex:commandbutton styleClass="btn btn-primary" action="{!addMemberAsset}" value="Save Asset Details" />                                                        
                                                    </div>
                                                    <apex:actionFunction action="{!clearAssetErrorsCtrl2}" name="clearAssetErrorsCtrl2" rerender="opAddAssetErr"/>
                                                </div>
                                            </div>
                                        </div>  <!-- end Add Asset Modal -->     
                                        
                                            <!-- Start Edit Asset Modal -->
                                            <div class="modal fade" id="EditAssetModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                                            <h4 class="modal-title" id="myModalLabel">Asset Details</h4>
                                                        </div>
                                                        <apex:outputPanel id="opEditAssetDetail">
                                                        <div class="modal-body">                             
                                                            <apex:pageMessage severity="error" summary="{!ErrorMessagesEditAssets}" rendered="{!IF(ErrorMessagesEditAssets != null, true, false)}" escape="false"></apex:pageMessage>
                                                            <div class="form-group">
                                                                <label>Household Member : &nbsp;</label>                            
                                                                <apex:outputText value="{!editMemberAssetInstance.Housing_Application_Member__r.First_Name__c + ' ' + editMemberAssetInstance.Housing_Application_Member__r.Last_Name__c}"></apex:outputText>
                                                            </div>                                                   
                                                            
                                                            <div class="form-group">
                                                                <label>Asset Record Type : &nbsp;</label>                                                            
                                                                <apex:outputText value="{!editMemberAssetInstance.RecordType.Name}" />
                                                            </div>
                                                            
                                                             <div class="form-group">
                                                                 <label>Asset Type : &nbsp;</label>                                                            
                                                                 <apex:inputField style="{!IF((editMemberAssetInstance.RecordType.Name != 'Business Ownership' && editMemberAssetInstance.RecordType.Name != 'Land Ownership' && editMemberAssetInstance.RecordType.Name != 'No Assets'), '', 'display:none !important;')}" styleClass="form-control" id="editassetType" value="{!editMemberAssetInstance.Asset_Type__c}" />
                                                                 <apex:outputText style="{!IF((editMemberAssetInstance.RecordType.Name != 'Assets with an Account' && editMemberAssetInstance.RecordType.Name != 'Cash without an Account' && editMemberAssetInstance.RecordType.Name != 'Gifts'), '', 'display:none !important;')}" value="{!editMemberAssetInstance.Asset_Type__c}" />
                                                            </div>
                                                                                                                    
                                                            <div id="assetfieldlist1" style="{!IF(editMemberAssetInstance.RecordType.Name == 'Assets with an Account', '', 'display:none;')}">
                                                                
                                                                <div class="form-group">
                                                                    <label>Cash or Market Value</label>                                                            
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberAssetInstance.Cash_or_Market_Value__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Settlement or Other Description</label>                                                            
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberAssetInstance.Settlement_or_Other_Description__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Stock/Bond Description</label>                                                            
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberAssetInstance.Stock_Bond_Description__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Name of Institution</label>                                                            
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberAssetInstance.Name_of_Institution__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label>Account Number</label>                                                            
                                                                    <apex:inputField styleClass="form-control" value="{!editMemberAssetInstance.Account_Number__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="dateOfMostRecentStmt2">Date of Most Recent Statement (mm/dd/yyyy)</label>                                                                    
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editdateOfMostRecentStmt2_{!editMemberAssetInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberAssetInstance.Date_of_Most_Recent_Statement__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editdateOfMostRecentStmt_{!editMemberAssetInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <div class="row">                                                                        
                                                                        <div class="col-sm-12">
                                                                            <apex:inputField id="IsjointAccount2" value="{!editMemberAssetInstance.Is_this_a_joint_account__c}" />
                                                                            <label for="IsjointAccount2">Check here if this is a joint account.</label>                                                                    
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="nameOfJointAccountHolder2">Name(s) of joint account holder(s)</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="nameOfJointAccountHolder2" value="{!editMemberAssetInstance.Name_of_joint_account_holders__c}" />
                                                                </div>
                                                                
                                                                <!--<div class="form-group">
                                                                    <label for="mostRecentBalance2">Most Recent Balance</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="mostRecentBalance2" value="{!editMemberAssetInstance.Most_Recent_Balance__c}" />
                                                                </div>-->
                                                                
                                                            </div>
                                                            
                                                            <div id="assetfieldlist2" style="{!IF(editMemberAssetInstance.RecordType.Name == 'Cash without an Account', '', 'display:none;')}">
                                                                
                                                                <div class="form-group">
                                                                    <label for="totalCashNotDepositedinAnyAcc2">Total Cash Not Deposited in Any Account</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="totalCashNotDepositedinAnyAcc2" value="{!editMemberAssetInstance.Total_Cash_Not_Deposited_in_Any_Account__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                                    
                                                            </div>
                                                            
                                                            <div id="assetfieldlist3" style="{!IF(editMemberAssetInstance.RecordType.Name == 'Gifts', '', 'display:none;')}">
                                                                
                                                                <div class="form-group">
                                                                    <label for="dateOfGiftLatter2">Date of Gift Letter (mm/dd/yyyy)</label>                                                                    
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editdateOfGiftLatter2_{!editMemberAssetInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberAssetInstance.Date_of_Gift_Letter__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editdateOfGiftLatter_{!editMemberAssetInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="gifterRelnToReci2">Gifter/Donor Relationship to Recipient</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="gifterRelnToReci2" value="{!editMemberAssetInstance.Gifter_Donor_Relationship_to_Recipient__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="gifterDonorName2">Gifter/Donor Name</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="gifterDonorName2" value="{!editMemberAssetInstance.Gifter_Donor_Name__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="gifterDonarAddress2">Gifter/Donor Address</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="gifterDonarAddress2" value="{!editMemberAssetInstance.Gifter_Donor_Address__c}" />
                                                                </div>
                                                                
                                                                
                                                                <div class="form-group">
                                                                    <label for="RelationshipIfOther2">Relationship, if Other</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="RelationshipIfOther2" value="{!editMemberAssetInstance.Relationship_if_Other__c}" />
                                                                </div> 
                                                                
                                                                <div class="form-group">
                                                                    <label for="gifterDonarPhoneNumber2">Gifter/Donor Phone Number</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="gifterDonarPhoneNumber2" value="{!editMemberAssetInstance.Gifter_Donor_Phone_Number__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftDepositoryname2">Gift Funds Location-Bank/Depository Name</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftDepositoryname2" value="{!editMemberAssetInstance.Gift_Funds_Location_Bank_Depository_Name__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftFundsLocationPhone2">Gift Funds Location: Phone#</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftFundsLocationPhone2" value="{!editMemberAssetInstance.Gift_Funds_Location_Phone__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftFundsLocationAddress2">Gift Funds Location: Address</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftFundsLocationAddress2" value="{!editMemberAssetInstance.Gift_Funds_Location_Address__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftFundsTypeOfAccount2">Gift Funds Type of Account</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftFundsTypeOfAccount2" value="{!editMemberAssetInstance.Gift_Funds_Type_of_Account__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftTypeFundOtherDescription2">Gift Funds Type - Other description</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftTypeFundOtherDescription2" value="{!editMemberAssetInstance.Gift_Funds_Type_Other_description__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="currentCashValueOfGift2">Current Cash Value of Gift</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="currentCashValueOfGift2" value="{!editMemberAssetInstance.Current_Cash_Value_of_Gift__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftFundsBankAccount2">Gift Funds Bank/Depository Account#</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftFundsBankAccount2" value="{!editMemberAssetInstance.Gift_Funds_Bank_Depository_Account__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftFundsBankAccountInstiName2">Gift Recipient Account Institution Name</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftFundsBankAccountInstiName2" value="{!editMemberAssetInstance.Gift_Recipient_Account_Institution_Name__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftFundsBankAccountAddress2">Gift Recipient Account Address</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftFundsBankAccountAddress2" value="{!editMemberAssetInstance.Gift_Recipient_Account_Address__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="giftRecipientsAccNumber2">Gift Recipient's Account Number</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="giftRecipientsAccNumber2" value="{!editMemberAssetInstance.Gift_Recipient_s_Account_Number__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="grAccInstPhone2">Gift Recipient Acct. Inst. Phone #</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="grAccInstPhone2" value="{!editMemberAssetInstance.GR_Acct_Inst_Phone__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="grAccInstDoLstStmt2">Gift Recipient Acct. Inst. - Date of Last Statement (mm/dd/yyyy)</label>
                                                                    <div class="row">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <div class='input-group date' id='editgrAccInstDoLstStmt2_{!editMemberAssetInstance.Id}' data-date-format="mm/dd/yyyy">
                                                                                    <apex:inputField type="text" styleClass="form-control" value="{!editMemberAssetInstance.GR_Acct_Inst_Date_of_Last_Statement__c}" onkeypress="return validateField(event, this, 'Date');"/>
                                                                                    <span class="input-group-addon">
                                                                                        <span class="glyphicon glyphicon-time"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <script type="text/javascript">
                                                                                    $(function () {
                                                                                        $('#editgrAccInstDoLstStmt_{!editMemberAssetInstance.Id}').datepicker({                        
                                                                                            format: 'mm/dd/yyyy'
                                                                                        });        
                                                                                    });      
                                                                                </script>
                                                                            </div>
                                                                        </div>                                                                                                                             
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="AmountOfGiftDepositedIntoRecAcc2">Amount of Gift Deposited into Rec. Acct</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="AmountOfGiftDepositedIntoRecAcc2" value="{!editMemberAssetInstance.Amount_of_Gift_Deposited_into_Rec_Acct__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="grAccMostRecentBal2">Gift Recipient Acct. - Most Recent Balance</label>
                                                                    <apex:inputField styleClass="form-control" id="grAccMostRecentBal2" value="{!editMemberAssetInstance.GR_Acct_Most_Recent_Balance__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                            </div>  
                                                            
                                                            <div id="assetfieldlist4" style="{!IF(editMemberAssetInstance.RecordType.Name == 'Business Ownership', '', 'display:none;')}">
                                                            
                                                                <div class="form-group">
                                                                    <label for="nameofbusiness2">Name of Business</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="nameofbusiness2" value="{!editMemberAssetInstance.Name_of_Business__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="addressofbusiness2">Address of Business</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="addressofbusiness2" value="{!editMemberAssetInstance.Address_of_Business__c}" />
                                                                </div>
                                                                
                                                                <div class="form-group">
                                                                    <label for="amountfrombusiness2">Amount Earned Per Year from Business</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="amountfrombusiness2" value="{!editMemberAssetInstance.Amount_Earned_Per_Year_from_Business__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                            </div>
                                                        
                                                            <div id="assetfieldlist5" style="{!IF(editMemberAssetInstance.RecordType.Name == 'Land Ownership', '', 'display:none;')}">
                                                            
                                                                <div class="form-group">
                                                                    <label for="landaddress2">Land Address or Parcel Desc.</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="landaddress2" value="{!editMemberAssetInstance.Land_Address_or_Parcel_Desc__c}" />
                                                                </div>
                                                            
                                                                <div class="form-group">
                                                                    <label for="valueofland2">Current Value of Land</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="valueofland2" value="{!editMemberAssetInstance.Current_Value_of_Land__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>
                                                            
                                                                <div class="form-group">
                                                                    <label for="earnsincomefromland2">Landowner Earns Income from Land?</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="earnsincomefromland2" value="{!editMemberAssetInstance.Landowner_Earns_Income_from_Land__c}" />
                                                                </div>
                                                            
                                                                <div class="form-group">
                                                                    <label for="landincome2">If yes, earned income per year:</label>                                                            
                                                                    <apex:inputField styleClass="form-control" id="landincome2" value="{!editMemberAssetInstance.Land_Earned_Income_Per_Year__c}" onkeypress="return validateField(event, this, 'Currency');"/>
                                                                </div>    
                                                            </div>  
                                                        </div>
                                                        </apex:outputPanel>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>                                                            
                                                            <apex:commandLink styleClass="btn btn-primary" action="{!updateAsset}" value="Save Asset Details">
                                                                <apex:param name="editassetId" value="{!editMemberAssetInstance.Id}" assignTo="{!strEditAssetId}" />
                                                            </apex:commandLink>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>  <!-- end  Edit Asset Modal -->
                                    </div>
                                    
                                    <div class="tab-pane {!IF(intSelectedTabNumber = 6, 'active', '')}" id="printAndSignInfo">
                                        <c:mohTabHeader propName="{!propInstance.Name}"  appStatus="{!haInstance.Application_Status__c}" />
                                        <br/>                               
                                        <div class="row"> 
                                            <div class="col-md-12">

                                                    <div>
                                                        <!--<button type="button" class="customBtn3" onclick="window.open('/housingprograms/mohcdPrintApp?pid={!propInstance.Id}', 'Print Your Housing Application', 'menubar=no,innerWidth=600,innerHeight=600,toolbar=no,location=no,screenX=400,screenY=40');" >PRINT &amp; SIGN</button>-->
                                                        <table>
                                                            <tr>
                                                                <td>
                                                                    <button type="button" class="customBtn3" onclick="window.open('https://composer.congamerge.com?sessionId={!$API.Session_ID}&serverUrl={!$API.Partner_Server_URL_130}&id={!haInstance.Id}&queryId=[Members]a0b1100000moB7N?pv0={!haInstance.Id},[Dependent]a0b1100000moJkJ?pv0={!haInstance.Id},[PrimaryApplicant]a0b1100000moVvK?pv0={!haInstance.Id},[OnTitle]a0b1100000mogLu?pv0={!haInstance.Id},[LandOwner]a0b1100000mop2D?pv0={!haInstance.Id},[BusinessOwner]a0b1100000mp1Eu?pv0={!haInstance.Id},[EmploymentIncomes]a0b1100000mp9wg?pv0={!haInstance.Id},[OtherIncomes]a0b1100000mpD20?pv0={!haInstance.Id},[MemberAssets]a0b1100000mpPe9?pv0={!haInstance.Id},[RetirementAssets]a0b1100000mpT7U?pv0={!haInstance.Id}&TemplateId=a0c11000001A64K&DefaultPDF=1&BML=Generating+Application&OCNR=1&ds7=13', 'Review Your Housing Application', 'menubar=no,innerWidth=600,innerHeight=600,toolbar=no,location=no,screenX=400,screenY=40');" >REVIEW</button>
                                                                    <!--<button type="button" class="customBtn3" onclick="window.open('https://composer.congamerge.com?sessionId={!$API.Session_ID}&serverUrl={!$API.Partner_Server_URL_130}&id={!haInstance.Id}&queryId=[Members]a0b1100000moB7N?pv0={!haInstance.Id}&queryId=[Dependent]a0b1100000moJkJ?pv0={!haInstance.Id}&queryId=[PrimaryApplicant]a0b1100000moVvK?pv0={!haInstance.Id}&queryId=[OnTitle]a0b1100000mogLu?pv0={!haInstance.Id}&queryId=[LandOwner]a0b1100000mop2D?pv0={!haInstance.Id}&queryId=[BusinessOwner]a0b1100000mp1Eu&queryId=[EmploymentIncomes]a0b1100000mp9wg?pv0={!haInstance.Id}&queryId=[OtherIncomes]a0b1100000mpD20?pv0={!haInstance.Id}&queryId=[MemberAssets]a0b1100000mpPe9?pv0={!haInstance.Id}&queryId=[RetirementAssets]a0b1100000mpT7U?pv0={!haInstance.Id}&DS7=1&TemplateId=a0c11000001A64K&DefaultPDF=1&BML=Generating+Application&OCNR=1?pv0={!haInstance.Id}', 'Review Your Housing Application', 'menubar=no,innerWidth=600,innerHeight=600,toolbar=no,location=no,screenX=400,screenY=40');" >REVIEW</button>
                                                                    <!--<button type="button" class="customBtn3" onclick="window.open('https://composer.congamerge.com?sessionId={!$API.Session_ID}&serverUrl={!$API.Partner_Server_URL_130}&id={!haInstance.Id}&queryId=[Members]a0b1100000meEiZ&ReportID=[MemberAssets]00O11000000Obbb&ReportID=[RetirementAssets]00O11000000Oc25&ReportID=[OtherIncomes]00O11000000Obbg&ReportID=[EmploymentIncomes]00O11000000Oc1C&ReportID=[OnTitle]00O11000000Obkn&ReportID=[Dependent]00O11000000Obks&ReportID=[PrimaryApplicant]00O11000000Oc04&ReportID=[Coapplicants]00O11000000Oc0E&TemplateId=a0c11000000iU9O&DefaultPDF=1&BML=Generating+Application&OCNR=1', 'Review Your Housing Application', 'menubar=no,innerWidth=600,innerHeight=600,toolbar=no,location=no,screenX=400,screenY=40');" >REVIEW</button>
                                                                     Heidi 
                                                                    <apex:outputText value="{!repId}"/>
                                                                <button type="button" class="customBtn3" onclick="alert('{!repId}')">test</button>
                                                                
                                                                    <button type="button" class="customBtn3" onclick="window.open('https://composer.congamerge.com/composer8/index.html?sessionId=00D110000007GIu!ARIAQIP1gDp7fjzXz7lv0lu5S1eOEXS9eV3ERXX5nl0d041CL1RPLz8J.Z3_idIsad_nJw4PPQiAhrR3suLoNVhwlScu2YkF&serverUrl=https://dev-mohcdsfhousing.cs18.force.com/housingprograms/services/Soap/u/29.0/00D110000007GIu&id=a041100000AR3WPAA1&ReportID=[Members]00O11000000ObbM&ReportID=[MemberAssets]00O11000000Obbb&ReportID=[RetirementAssets]00O11000000Oc25&ReportID=[OtherIncomes]00O11000000Obbg&ReportID=[EmploymentIncomes]00O11000000Oc1C&ReportID=[OnTitle]00O11000000Obkn&ReportID=[Dependent]00O11000000Obks&ReportID=[PrimaryApplicant]00O11000000Oc04&ReportID=[Coapplicants]00O11000000Oc0E&ReportID=[LandOwner]00O11000000P6CN&ReportID=[BusinessOwner]00O11000000P6CS&DefaultPDF=1&BML=Generating+Application&OCNR=1', 'Review Your Housing Application', 'menubar=no,innerWidth=600,innerHeight=600,toolbar=no,location=no,screenX=400,screenY=40');" >REVIEW</button>
                                                                    <apex:commandButton styleClass="customBtn3" action="{$Action.Housing_Application__c.Print_and_Sign}" value="Review"/>-->
                                                                </td>
                                                                <td>
                                                                    <span style="color: DeepSkyBlue; font-size: 1.2em;">&nbsp;&nbsp;&nbsp;You may review your entire<br />&nbsp;&nbsp;&nbsp;application before submitting.</span>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <!--<button type="button" class="customBtn3" onclick="openConga()" />-->
                                                    </div>

                                            </div>
                                        </div>
                                                  
                                        <br /><br />
                                        
                                        <!-- Where Applicant(s) Learned of Opportunity -->
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-12">
                                                <p><b>How did you hear about this affordable housing opportunity?</b></p>
                                                <apex:pageBlock id="whereHearQuestion">
                                                    <apex:pageBlockSection >
                                                        <apex:actionRegion >
                                                            <apex:inputField id="whereHearPick" value="{!haInstance.How_Applicant_Learned_About_This_Listing__c}">
                                                                <apex:actionSupport event="onchange" rerender="whereHearQuestion"/>
                                                            </apex:inputField>
                                                        </apex:actionRegion>
                                                    </apex:pageBlockSection>
                                                    <br />
                                                    <apex:pageBlockSection id="ifFlyer" rendered="{!IF(haInstance.How_Applicant_Learned_About_This_Listing__c = 'Flyer',true,false)}">
                                                        <apex:inputField id="flyerSpecifics" value="{!haInstance.If_Flyer_Where_Was_the_Flyer_Posted__c}" label="Where was the flyer posted?&nbsp;"/>
                                                    </apex:pageBlockSection>
                                                    <apex:pageBlockSection id="ifNewspaper" rendered="{!IF(haInstance.How_Applicant_Learned_About_This_Listing__c = 'Newspaper','true','false')}">
                                                        <apex:inputField id="newspaperSpecifics" value="{!haInstance.If_Newspaper_Which_Newspaper__c}" label="Which newspaper?&nbsp;"/>
                                                    </apex:pageBlockSection>
                                                    <apex:pageBlockSection id="ifSocialMedia" rendered="{!IF(haInstance.How_Applicant_Learned_About_This_Listing__c = 'Social Media','true','false')}">
                                                        <apex:inputField id="socialMediaSpecifics" value="{!haInstance.If_Social_Media_Which_Social_Media__c}" label="Which social media?&nbsp;"/>
                                                    </apex:pageBlockSection>
                                                    <apex:pageBlockSection id="ifOther" rendered="{!IF(haInstance.How_Applicant_Learned_About_This_Listing__c = 'Other','true','false')}">
                                                        <apex:inputField id="otherSpecifics" value="{!haInstance.If_Other_Please_Describe__c}" label="Please describe:&nbsp;"/>
                                                    </apex:pageBlockSection>
                                                </apex:pageBlock>
                                            </div>
                                        </div>
                                        
                                        <br />
                                        
                                        <!-- Which Agency Helped Applicant, If Any -->
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-12">
                                                <p><b>Which agency, if any, helped you complete this application?</b></p>
                                                <apex:pageBlock id="housingAppWhichAgencyHelped">
                                                    <apex:inputField id="whichAgencyHelped" value="{!haInstance.Name_of_Agency_Helping_Applicant_If_Any__c}" />
                                                </apex:pageBlock>
                                            </div>
                                        </div>
                                        
                                        <br />
                                        
                                        <!-- E-Signature -->
                                        <div class="row" style="padding-bottom: 5px;">
                                            <div class="col-md-12">
                                                <apex:pageBlock id="housingAppESignature">
                                                    <apex:inputCheckbox id="eSign" value="{!haInstance.Housing_Application_E_Signed__c}" />
                                                    &nbsp;I certify that all information entered on my household application for affordable housing
                                                    is true and accurate. I understand there may be penalties for submitting an application with
                                                    false information.
                                                </apex:pageBlock>
                                            </div>
                                        </div>
                                        
                                        <br />
                                             
                                        <div class="row">    
                                            <div class="col-md-12">
                                                <center>
                                                    <div style="{!IF(haInstance.Application_Status__c == 'Submitted', 'display : none;', '')}">
                                                        <button type="button" class="customBtn2" style="width:210px;" onclick="javascript:confirm('This will submit your application! Are you sure?')?submitApp():false;" >SUBMIT</button>
                                                    </div>
                                                </center>    
                                            </div> 
                                    
                                        </div>
                                    </div> <!--close pannel row -->
                                    
                                    <div class="tab-pane {!IF(intSelectedTabNumber = 5, 'active', '')}" id="attachInfo">
                                        <div class="confirmMsg"><apex:pageMessages id="confirmMessage" showDetail="false"/></div>
                                        <c:mohTabHeader propName="{!propInstance.Name}"  appStatus="{!haInstance.Application_Status__c}" />
                                        
                                        <p>&nbsp;<b>Attachments you have uploaded before for your housing applications</b></p>
                                        
                                        <div class="row"> 
                                            <div class="col-md-12"  style="overflow: auto;height:330px;width: 99% !important;">
                                                <apex:dataTable styleClass="table table-striped" style="overflow-x:hidden" value="{!haInstance.Attachments}" var="attach">
                                                    <apex:column headerValue="Delete">
                                                        <a href="javascript:if(window.confirm('Are you sure you want to delete this attachment? Once deleted, it cannot be retrieved.')) DeleteAttachment('{!attach.Id}');" >Delete</a>
                                                    </apex:column>
                                                    <apex:column value="{!attach.Name}" headerValue="Name"/>
                                                    <apex:column value="{!attach.Description}" headerValue="Description"/>
                                                    <apex:column value="{!FlOOR(attach.BodyLength/1024)} KB" headerValue="Size"/>
                                                </apex:dataTable>
                                            </div>
                                        </div> 
                                        
                                        <apex:commandButton action="/mohcdAttachFiles?haId={!haInstance.Id}&pid={!propInstance.Id}" styleClass="customBtn2" value="Add Attachments" immediate="true" />
                                        
                                        <br/><br/>
                                        <apex:inputCheckbox value="{!isSubmittingHardCopy}" /> <b> I will deliver some or all of my documents instead of uploading<br />     (please deliver paperwork to the listing agent) </b>
                                        <br/><br/>
                                        <apex:commandButton action="{!createNote}" styleClass="btn btn-primary" value="Confirm" reRender="confirmMessage"/>
                                    </div> 
                                    
                                </div>
                                <div class="row" style= "background:#fff;padding-bottom: 20px; margin: 0px !important;">
                                    <div class="col-md-1">
                                        &nbsp;
                                    </div>
                                    <div class="col-md-10">
                                        <div class="pull-left">
                                            <apex:commandbutton action="{!prevTab}" rendered="{!IF(intSelectedTabNumber != 1, true, false)}" styleclass="prevBtn" value="< PREVIOUS" reRender="housingappfrm" />
                                        </div>
                                        <div class="pull-right">                                        
                                            <apex:commandbutton action="{!nextTab}" rendered="{!IF(intSelectedTabNumber != 6, true, false)}" styleclass="nextBtn" value="NEXT >" reRender="housingappfrm" />
                                        </div>
                                    </div>
                                    <div class="col-md-1">
                                        &nbsp;
                                    </div>
                                </div> <!-- close Next/Previous row -->
                            </div> <!--close pannel row -->
                            
                            <div class="row">
                                <div class="col-md-12">
                                    <p>&nbsp;</p>
                                </div>
                            </div> <!-- close buffer row -->
                            

                            
                        </div>
                    </div>
                </div> <!--close col-md-9 -->
                
                <apex:outputPanel >
                    <apex:actionStatus id="loadingId">
                        <apex:facet name="start">
                            <div class="waitingSearchDiv outerGrayedPanel" id="casActionProcessing"> 
                                <div class="waitingHolder innerProcessPanel">
                                    <br />
                                    <img class="waitingImage" src="/img/loading.gif" title="Loading Data..." />
                                    <span class="waitingDescription">Loading Data... Please wait! </span>
                                </div>
                            </div>
                        </apex:facet>
                    </apex:actionStatus>
                </apex:outputPanel>
             </apex:form>  
        </apex:define>        
    </apex:composition>
    
    //For persistent modal dialogs    
    <script>
     
    /*var incomeRecType = document.getElementById('incomeRecordTypeId').value;
    
    if (incomeRecType != null || incomeRecType != '') {
        document.getElementById('j_id0:j_id2:housingappfrm:incomeRecTypeInputId').value = incomeRecType;
        ShowIncomeFields(document.getElementById('j_id0:j_id2:housingappfrm:incomeRecTypeInputId'));
    }*/
    
    //Add member
        var errorMember = {!errorMember};
        
        if(errorMember) {
            $('#AddMemberModal').modal({'show': true});      
        } else{
            $('#AddMemberModal').modal({'show': false});       
        } 

    //Add income
       var errorIncome = {!errorIncome};
        
        if(errorIncome) {
            var incomeRecType = document.getElementById('j_id0:j_id2:housingappfrm:incomeRecTypeInputId');
            $('#AddIncomeModal').modal({'show': true});      
            ShowIncomeFields(incomeRecType);      
        } else{
            $('#AddIncomeModal').modal({'show': false});       
        }
        
    //Add asset
       var errorAssets = {!errorAssets};
        
        if(errorAssets) {
            var assetRecType = document.getElementById('j_id0:j_id2:housingappfrm:assetRecordType');
            $('#AddAssetModal').modal({'show': true});
            ShowAssetFields(assetRecType);
        } else{
            $('#AddAssetModal').modal({'show': false});       
        }
    </script>
    
    <script>
    //Edit member
        var erroreditMember = {!erroreditMember};                  
                
        if(erroreditMember) {
            $('#EditMemberModal').modal({'show': true});
        } else {
            $('#EditMemberModal').modal({'show': false});
        }
        
    //Edit member income

        var errorEditIncome = {!errorEditIncome};                  
                
        if(errorEditIncome) {
            $('#EditIncomeModal').modal({'show': true});
        } else {
            $('#EditIncomeModal').modal({'show': false});
        }
        
    //Edit member asset

        var errorEditAssets = {!errorEditAssets};                  
                
        if(errorEditAssets) {
            $('#EditAssetModal').modal({'show': true});
        } else {
            $('#EditAssetModal').modal({'show': false});
        }
    
    // Income RecordType
        var incomeRecType = document.getElementById('incomeRecordTypeId').value;
        if (incomeRecType  != '') {
            showHideIncomeFields(incomeRecType);
        }
        
        var assetRecType = document.getElementById('assetRecordTypeId').value;
        if (assetRecType != '') {
            showHideAssetFields(assetRecType);
        }
                        
    </script>
    <script>
        function assignEditMemberModalId() {
          setTimeout($('#EditMemberModal').modal('show'), 20);
        }
        
        function assignEditIncomeModalId(id) {
            var incomeId = document.getElementById('editIncomeId' + id).value;
            document.getElementById('editIncomeModalId').value = '#EditIncomeModal_' + incomeId;
        }
        
        function assignEditAssetModalId(id) {
            var assetId = document.getElementById('editAssetId' + id).value;
            document.getElementById('editAssetModalId').value = '#EditAssetModal_' + assetId;
        }        
        
        function validateField(e, element, allow) {
            if (allow == 'Currency'){AllowableCharacters='1234567890.';}
            if (allow == 'Numbers'){AllowableCharacters='1234567890';}
            if (allow == 'Date'){AllowableCharacters='1234567890/';}
            
            var k = document.all?parseInt(e.keyCode): parseInt(e.which);
            if (k!=13 && k!=8 && k!=0){
                
                if (allow == 'Currency') {
                    if (k == 46 && element.value.indexOf('.') > -1) {
                        return false;
                    }
                }
                
                if ((e.ctrlKey==false) && (e.altKey==false)) {
                return (AllowableCharacters.indexOf(String.fromCharCode(k))!=-1);
                } else {
                return true;
                }
            } else {
                return true;
            }
        }
        
    </script>
    </apex:page>